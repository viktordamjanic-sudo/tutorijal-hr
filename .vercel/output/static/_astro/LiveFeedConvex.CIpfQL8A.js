import{t as x,a as b,j as e,u as f}from"./use_queries.-TWPa-rw.js";import{r as c}from"./index.CaZlGE7t.js";function u(s,n){const i={get(o,r){if(typeof r=="string"){const a=[...n,r];return u(s,a)}else if(r===x){if(n.length<1){const a=[s,...n].join(".");throw new Error(`API path is expected to be of the form \`${s}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+n.join("/")}else return}};return new Proxy({},i)}const g=()=>u("components",[]),p=b;g();function h(s){return{beginner:"Lagano",intermediate:"Srednje",advanced:"TeÅ¡ko"}[s]||s}function j({task:s,isActive:n,onClick:i,showLink:o=!0}){const[r,a]=c.useState(!1),d={beginner:"bg-green-100 text-green-700",intermediate:"bg-yellow-100 text-yellow-700",advanced:"bg-red-100 text-red-700"},t=o?"a":"div",l=o?{href:`/modul/${s.id}`,className:"block"}:{className:"block cursor-pointer",onClick:i};return e.jsxs("div",{className:`bg-white rounded-xl p-5 shadow-sm border-2 transition-all ${n?"border-blue-500 ring-2 ring-blue-200":"border-transparent"} ${r?"shadow-md":""}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e.jsxs(t,{...l,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("span",{className:"text-3xl",children:s.icon}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d[s.difficulty]}`,children:h(s.difficulty)})]}),e.jsx("h3",{className:"font-bold text-gray-800 mb-2 hover:text-blue-600 transition",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.scenario})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Generirano: ",s.generatedAt||"Danas"]}),o&&e.jsx("a",{href:`/modul/${s.id}`,className:"text-blue-600 text-sm font-medium hover:underline",children:"Isprobaj â†’"})]})]})}function N(){const s=f(p.tasks.getTasks),[n,i]=c.useState(null),[o,r]=c.useState("");if(s===void 0)return e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"UÄitavanje zadataka iz baze... ðŸ”„"})]});const d=t=>{i(t);const l=s?.find(m=>m.id===t);l&&r(l.aiPrompt)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s?.slice(0,3).map(t=>e.jsx(j,{task:t,isActive:n===t.id,onClick:()=>d(t.id)},t.id))||e.jsx("div",{className:"col-span-3 text-center py-8 text-gray-500",children:"ðŸ“­ Nema zadataka u bazi. Dodaj ih kroz dashboard!"})}),n&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mt-6",children:[e.jsx("h4",{className:"font-bold text-lg mb-4",children:"ðŸš€ Isprobaj sam!"}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tvoj prompt za AI:"}),e.jsx("textarea",{value:o,onChange:t=>r(t.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",onClick:()=>alert("ðŸ¤– AI bi sada generirao odgovor!"),children:"PoÅ¡alji AI-ju"}),e.jsx("button",{className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition",onClick:()=>i(null),children:"Zatvori"})]})]})]})}export{N as default};
