---
// Main landing page for tutorijal.hr
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import ModuleGrid from '../components/ModuleGrid.astro';
import ConvexWrapper from '../components/ConvexWrapper.tsx';
import LiveFeedConvex from '../components/LiveFeedConvex.tsx';
import { SignedIn, SignedOut } from '@clerk/astro/components';
---

<Layout title="AI Tutorijal - NauÄi AI rijeÅ¡iti stvarne probleme">
  <main class="min-h-screen bg-gradient-to-b from-blue-50 to-white">
    <Hero />
    
    <!-- Live AI-Generated Tasks from News -->
    <section class="py-12 px-4">
      <div class="max-w-6xl mx-auto">
        <div class="flex items-center gap-3 mb-6">
          <span class="animate-pulse w-3 h-3 bg-green-500 rounded-full"></span>
          <h2 class="text-2xl font-bold text-gray-800">ğŸ”„ SvjeÅ¾i zadaci iz baze (Convex)</h2>
        </div>
        <p class="text-gray-600 mb-6">
          Zadaci se uÄitavaju u real-time iz Convex baze podataka.
          <span class="text-blue-600 font-medium">Sinhronizacija izmeÄ‘u svih ureÄ‘aja!</span>
        </p>
        
        <ConvexWrapper client:only="react">
          <LiveFeedConvex client:only="react" />
        </ConvexWrapper>
      </div>
    </section>

    <!-- Core Learning Modules -->
    <section class="py-12 px-4 bg-white">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-4">ğŸ“š Izaberi svoju avanturu</h2>
        <p class="text-gray-600 text-center mb-10 max-w-2xl mx-auto">
          Svaki modul rjeÅ¡ava jedan stvaran problem. Od parkinga do padeÅ¾a â€” 
          nauÄi kako AI moÅ¾e pomoÄ‡i u svakodnevnom Å¾ivotu.
        </p>
        <ModuleGrid />
      </div>
    </section>

    <!-- NEW: Course Section -->
    <section class="py-12 px-4 bg-gradient-to-b from-purple-50 to-white">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-4">ğŸ“ Drugi dio: Automatiziraj Å¾ivot</h2>
        <p class="text-gray-600 text-center mb-10 max-w-2xl mx-auto">
          NauÄi kako stvoriti vlastite AI agente koji Ä‡e ti Å¡tediti vrijeme. 
          Od prvog agenta do kompletne automatizacije.
        </p>
        
        <div class="grid md:grid-cols-5 gap-4">
          {[
            { num: 1, title: "Osnovni setup", icon: "ğŸš€", color: "blue" },
            { num: 2, title: "Dva agenta", icon: "ğŸ‘¥", color: "green" },
            { num: 3, title: "LoÅ¡ija od tri", icon: "âš–ï¸", color: "orange" },
            { num: 4, title: "Å to su skillsi?", icon: "ğŸ§°", color: "purple" },
            { num: 5, title: "Prva automatizacija", icon: "ğŸ‰", color: "green" },
          ].map(lesson => (
            <a 
              href={`/lekcija/${lesson.num}`}
              class={`bg-white p-4 rounded-xl border-2 hover:border-${lesson.color}-400 transition group`}
            >
              <div class="text-2xl mb-2">{lesson.icon}</div>
              <div class="text-xs text-gray-500 mb-1">Lekcija {lesson.num}</div>
              <div class="font-bold text-sm group-hover:text-blue-600 transition">
                {lesson.title}
              </div>
            </a>
          ))}
        </div>
        
        <div class="text-center mt-8">
          <SignedOut>
            <a 
              href="/sign-up" 
              class="inline-block bg-purple-600 text-white px-8 py-3 rounded-xl font-medium hover:bg-purple-700 transition"
            >
              ğŸš€ ZapoÄni lekciju - Registriraj se
            </a>
            <p class="mt-2 text-sm text-gray-600">
              VeÄ‡ imaÅ¡ raÄun? <a href="/sign-in" class="text-blue-600 hover:underline">Prijavi se</a>
            </p>
          </SignedOut>
          <SignedIn>
            <a 
              href="/lekcija/1" 
              class="inline-block bg-purple-600 text-white px-8 py-3 rounded-xl font-medium hover:bg-purple-700 transition"
            >
              ğŸš€ ZapoÄni lekciju
            </a>
          </SignedIn>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section class="py-16 px-4 bg-gradient-to-r from-purple-50 to-blue-50">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl font-bold mb-8">ğŸ® Kako funkcionira?</h2>
        <div class="grid md:grid-cols-4 gap-6">
          {[
            { emoji: 'ğŸ¯', title: 'Zabavno', desc: 'Pogledaj simpatiÄan video s problemom' },
            { emoji: 'ğŸ§ ', title: 'Shvati', desc: 'Vidi kako AI razmiÅ¡lja o rjeÅ¡enju' },
            { emoji: 'ğŸš€', title: 'Isprobaj', desc: 'Pitaj AI svoju situaciju' },
            { emoji: 'ğŸ’¾', title: 'Podijeli', desc: 'Spasi rjeÅ¡enje za kasnije' }
          ].map(step => (
            <div class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition">
              <div class="text-4xl mb-3">{step.emoji}</div>
              <h3 class="font-bold text-lg mb-2">{step.title}</h3>
              <p class="text-sm text-gray-600">{step.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- For Everyone -->
    <section class="py-12 px-4">
      <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-8">
        <div class="bg-orange-50 p-8 rounded-2xl">
          <h3 class="text-2xl font-bold mb-4">ğŸ‘´ Za starije</h3>
          <ul class="space-y-2 text-gray-700">
            <li>âœ… Veliki fontovi i jasni gumbi</li>
            <li>âœ… Glasovna pomoÄ‡ za Äitanje</li>
            <li>âœ… Bez tehniÄkog Å¾argona</li>
            <li>âœ… RjeÅ¡avanje stvarnih problema (parking, dom...)</li>
          </ul>
        </div>
        <div class="bg-green-50 p-8 rounded-2xl">
          <h3 class="text-2xl font-bold mb-4">ğŸ‘¶ Za djecu</h3>
          <ul class="space-y-2 text-gray-700">
            <li>ğŸ¨ Igre i ilustracije</li>
            <li>ğŸ† Bodovi i bedÅ¾evi</li>
            <li>ğŸ® Kratki zadaci (2-3 minute)</li>
            <li>ğŸ“– UÄenje kroz avanture (padeÅ¾i, pisma...)</li>
          </ul>
        </div>
      </div>
    </section>
  </main>
</Layout>
